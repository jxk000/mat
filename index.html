<!DOCTYPE html>
<html lang="pl">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>mat dla inz kulp</title>

    <!-- MathJax -->
    <script>
        window.MathJax = {
            tex: {
                // Tu włączamy obsługę pojedynczego dolara $ jako znacznika
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']]
            },
            svg: {
                fontCache: 'global'
            }
        };
    </script>

    <script type="text/javascript" id="MathJax-script" async
        src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
        </script>

    <!-- Czcionka -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet" />

    <style>
        :root {
            --bg: #181a1b;
            --card-bg: #242526;
            --text: #e4e6eb;
            --accent: #4e98e6;
            --border: #3a3b3c;
            --correct-bg: #164e37;
            --wrong-bg: #61151b;
            --radius: 8px;
            --transition: 0.3s ease;
        }

        body.light {
            --bg: #f0f2f5;
            --card-bg: #ffffff;
            --text: #333333;
            --accent: #6366F1;
            --border: #e5e7eb;
            --correct-bg: #d1fae5;
            --wrong-bg: #fee2e2;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: var(--bg);
            color: var(--text);
            display: flex;
            justify-content: center;
            padding: 40px 20px;
            transition: var(--transition);
        }

        #container {
            position: relative;
            width: 100%;
            max-width: 600px;
            background: var(--card-bg);
            border-radius: var(--radius);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
            padding: 30px;
            text-align: center;
            transition: var(--transition);
        }

        #theme-toggle {
            position: absolute;
            top: 16px;
            right: 16px;
            background: none;
            border: 1px solid var(--border);
            color: var(--text);
            padding: 6px 12px;
            border-radius: var(--radius);
            cursor: pointer;
            transition: var(--transition);
            font-size: 14px;
        }

        #theme-toggle:hover {
            background: var(--accent);
            color: #fff;
        }

        h1 {
            font-weight: 600;
            margin-bottom: 20px;
            color: var(--accent);
            transition: var(--transition);
        }

        .question {
            margin-bottom: 25px;
            text-align: left;
            border: 1px solid var(--border);
            padding: 20px;
            border-radius: var(--radius);
            transition: var(--transition);
        }

        .question:hover {
            border-color: var(--accent);
        }

        .question p {
            margin-bottom: 15px;
            font-weight: 500;
        }

        /* nowy odstęp między pytaniem a listą odpowiedzi */
        .answers {
            margin-top: 12px;
        }

        .answers label {
            display: block;
            position: relative;
            padding: 12px 16px;
            margin-bottom: 10px;
            border: 1px solid var(--border);
            border-radius: var(--radius);
            cursor: pointer;
            transition: var(--transition);
        }

        .answers label:hover {
            background: #2a2b2d;
            border-color: var(--accent);
        }

        body.light .answers label:hover {
            background: #fafbfc;
        }

        .answers input {
            position: absolute;
            opacity: 0;
        }

        .answers span {
            vertical-align: middle;
        }

        .answers input:checked+span {
            color: var(--accent);
            font-weight: 600;
        }

        #controls {
            margin-top: 15px;
        }

        button {
            background: var(--accent);
            color: #fff;
            border: none;
            border-radius: var(--radius);
            padding: 12px 24px;
            font-size: 16px;
            cursor: pointer;
            transition: var(--transition);
            margin: 0 5px;
        }

        button:hover:not(:disabled) {
            background: #4f46e5;
            transform: translateY(-2px);
        }

        button:disabled {
            background: var(--border);
            cursor: not-allowed;
            transform: none;
        }

        #results {
            margin-top: 30px;
            text-align: left;
        }

        #results h2 {
            text-align: center;
            color: var(--accent);
            margin-bottom: 15px;
        }

        #score {
            text-align: center;
            margin-bottom: 20px;
            font-size: 18px;
            font-weight: 500;
        }

        .result-item {
            margin-bottom: 12px;
            cursor: pointer;
        }

        .result-item p {
            padding: 12px;
            border-radius: var(--radius);
            transition: var(--transition);
            color: #fff;
        }

        .result-item.correct p {
            background: var(--correct-bg);
        }

        .result-item.wrong p {
            background: var(--wrong-bg);
        }

        .detail {
            display: none;
            margin: 8px 0 15px 20px;
            text-align: left;
        }

        .detail ul {
            list-style: none;
            padding: 0;
        }

        .detail li {
            padding: 8px;
            margin-bottom: 6px;
            border-radius: var(--radius);
            border: 1px solid var(--border);
            color: #fff;
        }

        .detail li.correct-answer {
            background: var(--correct-bg);
        }

        .detail li.user-answer {
            background: var(--wrong-bg);
        }

        #btn {
            background: var(--accent);
            color: #fff;
            border: none;
            border-radius: var(--radius);
            padding: 12px 24px;
            font-size: 16px;
            cursor: pointer;
            transition: var(--transition);
            margin: 0 25px;
            text-decoration: none;
        }
    </style>
</head>

<body>

    <div id="container">
        <h1>Quiz Wiedzy</h1>
        <button id="theme-toggle">Jasny motyw</button>
        <div>
            <a href="questions.html" id="btn">Wszystkie pytania</a>
        </div>

        <div id="quiz"></div>

        <div id="controls">
            <button id="next-btn">Dalej</button>
            <button id="restart-btn" style="display:none">Restartuj quiz</button>
        </div>

        <div id="results"></div>
    </div>

    <script>
        const questions = [
            {
                "q": "Firmy przeprowadzające badania sondażowe do wyznaczania wielkości próby N korzystają z:",
                "answers": [
                    "wzoru na prawdopodobieństwo całkowite",
                    "Centralnego Twierdzenia Granicznego",
                    "wzoru na prawdopodobieństwo warunkowe",
                    "Prawa Wielkich Liczb"
                ],
                "correct": "Centralnego Twierdzenia Granicznego"
            },
            {
                "q": "Niech $X$ oznacza ilość orłów uzyskanych w pięciu rzutach monetą, a $Y$ oznacza ilość reszek uzyskanych w tym samym eksperymencie. Współczynnik korelacji zmiennych losowych $X$ i $Y$ wynosi: <br> Wskazówka: warto zauważyć, że $X + Y = 5$",
                "answers": [
                    "$-1$",
                    "$-5$",
                    "$5$",
                    "$0$",
                    "$1$"
                ],
                "correct": "$-1$"
            },
            {
                "q": "Jeżeli zmienne losowe $X$ i $Y$ są niezależne, $X$ ma rozkład normalny $N(1, 3)$, $Y$ ma rozkład normalny $N(3, 4)$ oraz $S = X + Y$, to zmienna losowa $S$ ma rozkład:",
                "answers": [
                    "$N(4, 7)$",
                    "$N(2, 5)$",
                    "$N(1, 5)$",
                    "$N(4, 5)$",
                    "$N(2, 7)$",
                    "$N(10, 7)$",
                    "$N(7, 5)$"
                ],
                "correct": "$N(4, 5)$"
            },
            {
                "q": "Jeżeli $X_1, X_2, X_3, X_4$ to niezależne zmienne losowe o tym samym rozkładzie normalnym $N(1, 2)$ oraz $T = \\frac{X_1+X_2+X_3+X_4}{4}$, to zmienna losowa $T$ ma rozkład:",
                "answers": [
                    "$N(2, 2)$",
                    "$N(1, 1)$",
                    "$N(4, 8)$",
                    "$N(2, 1)$",
                    "$N(1, 2)$",
                    "$N(4, 4)$"
                ],
                "correct": "$N(1, 1)$"
            },
            {
                "q": "Jeżeli $\\rho(X, Y) = -1$, to zmienne losowe $X$ i $Y$ są:",
                "answers": [
                    "dodatnio skorelowane",
                    "niezależne",
                    "liniowo skorelowane",
                    "nieskorelowane"
                ],
                "correct": "liniowo skorelowane"
            },
            {
                "q": "Współczynnik korelacji $\\rho(x, y)$ jest zdefiniowany wzorem:",
                "answers": [
                    "$\\frac{E(XY)}{Var X Var Y}$",
                    "$\\frac{Cov(X,Y)}{Var X Var Y}$",
                    "$\\frac{E(XY)}{\\sigma_X \\sigma_Y}$",
                    "$\\frac{Cov(X,Y)}{\\sigma_X \\sigma_Y}$"
                ],
                "correct": "$\\frac{Cov(X,Y)}{\\sigma_X \\sigma_Y}$"
            },
            {
                "q": "Jeżeli $EX^2 < \\infty$ i $EY^2 < \\infty$, to $|E(XY)| \\le \\sqrt{EX^2 EY^2}$. <br> Powyższa nierówność znana jest jako nierówność:",
                "answers": [
                    "Kołmogorowa",
                    "Schwarza",
                    "Czebyszewa",
                    "Bernoulliego",
                    "de Moivre'a - Laplace'a"
                ],
                "correct": "Schwarza"
            },
            {
                "q": "Jeżeli $X_1, X_2, X_3, X_4$ to niezależne zmienne losowe o tym samym rozkładzie normalnym $N(1, 2)$ oraz $S = X_1 + X_2 + X_3 + X_4$, to zmienna losowa $S$ ma rozkład:",
                "answers": [
                    "$N(4, 8)$",
                    "$N(1, 2)$",
                    "$N(4, 4)$",
                    "$N(1, 4)$",
                    "$N(2, 2)$"
                ],
                "correct": "$N(4, 4)$"
            },
            {
                "q": "Niech $X_1, X_2, X_3, \\dots$ będzie ciągiem niezależnych zmiennych losowych o jednakowym rozkładzie z wartością oczekiwaną $E(X_k)=\\mu$ oraz odchyleniem standardowym $\\sigma(X_k)=\\sigma, k=1, 2, 3, \\dots$. Wtedy: <br> $\\lim_{n\\to\\infty} P(a < \\frac{S_n - n\\mu}{\\sigma\\sqrt{n}} < b) = \\Phi(b) - \\Phi(a)$, gdzie $S_n = X_1 + X_2 + \\dots + X_n$ oraz $\\Phi$ oznacza dystrybuantę rozkładu normalnego standardowego $N(0, 1)$. <br> Powyższe twierdzenie to:",
                "answers": [
                    "twierdzenie Bernoulliego",
                    "Centralne Twierdzenie Graniczne Lindeberga - Levy'ego",
                    "twierdzenie Newtona-Leibniza",
                    "Mocne Prawo Wielkich Liczb Kołmogorowa",
                    "Centralne Twierdzenie Graniczne de Moivre'a - Laplace'a",
                    "Słabe Prawo Wielkich Liczb Bernoulliego",
                    "Mocne Prawo Wielkich Liczb Bernoulliego"
                ],
                "correct": "Centralne Twierdzenie Graniczne Lindeberga - Levy'ego"
            },
            {
                "q": "Jeżeli $Cov(X, Y) = 0$, to zmienne losowe $X$ i $Y$ są:",
                "answers": [
                    "niezależne",
                    "liniowo skorelowane",
                    "nieskorelowane"
                ],
                "correct": "nieskorelowane"
            },
            {
                "q": "Jeżeli $F(x)$ jest dystrybuantą zmiennej losowej $X$, to:",
                "answers": [
                    "$F(x)$ jest funkcją ciągłą",
                    "$F(x)$ jest funkcją całkowalną",
                    "$F(x)$ jest funkcją różniczkowalną",
                    "$F(x)$ jest funkcją słabo rosnącą"
                ],
                "correct": "$F(x)$ jest funkcją słabo rosnącą"
            },
            {
                "q": "Jeżeli $P(X=0) = P(X=1) = 0,5$, to:",
                "answers": [
                    "$Var X = 0$",
                    "$Var X = -0,25$",
                    "$Var X = 0,5$",
                    "$Var X = 0,25$",
                    "$Var X = -0,5$"
                ],
                "correct": "$Var X = 0,25$"
            },
            {
                "q": "Jeżeli $P(X=0) = P(X=-1) = 0,5$, to:",
                "answers": [
                    "$EX = 0$",
                    "$EX = -1$",
                    "$EX = 0,5$",
                    "$EX = -0,5$"
                ],
                "correct": "$EX = -0,5$"
            },
            {
                "q": "Jeżeli $P(X=0) = P(X=-1) = 0,5$, to:",
                "answers": [
                    "$EX^2 = 1$",
                    "$EX^2 = 0$",
                    "$EX^2 = 0,5$",
                    "$EX^2 = -0,5$",
                    "$EX^2 = -1$"
                ],
                "correct": "$EX^2 = 0,5$"
            },
            {
                "q": "Niech $x > 0$ oraz $\\Phi(x)$ to wartość dystrybuanty rozkładu normalnego standardowego. Wówczas:",
                "answers": [
                    "$\\Phi(-x) = 1 - \\Phi(x)$",
                    "$\\Phi(-x) = -\\Phi(x)$",
                    "$\\Phi(-x) = \\Phi(x)$",
                    "$\\Phi(-x) = 1 + \\Phi(x)$"
                ],
                "correct": "$\\Phi(-x) = 1 - \\Phi(x)$"
            },
            {
                "q": "Rozkład ciągłej zmiennej losowej $X$ jest wyznaczony jednoznacznie przez:",
                "answers": [
                    "wariancję $Var X$",
                    "gęstość $f_X$",
                    "odchylenie standardowe $\\sigma_X$",
                    "wartość oczekiwaną $EX$"
                ],
                "correct": "gęstość $f_X$"
            },
            {
                "q": "Załóżmy, że $X$ jest zmienną losową o skończonej wariancji. Wskaż prawdziwą nierówność:",
                "answers": [
                    "$Var X \\ge EX^2$",
                    "$Var X \\ge EX$",
                    "$Var X \\ge 0$",
                    "$EX \\ge 0$"
                ],
                "correct": "$Var X \\ge 0$"
            },
            {
                "q": "Funkcja gęstości rozkładu normalnego standardowego $N(0,1)$ zadana jest wzorem:",
                "answers": [
                    "$f(x) = \\frac{1}{\\sqrt{2\\pi}}e^{-0,5x^2}$",
                    "$f(x) = \\frac{1}{\\sqrt{2\\pi}}e^{0,5x^2}$",
                    "$f(x) = \\frac{1}{2\\pi}e^{-0,5x^2}$",
                    "$f(x) = \\frac{1}{2\\pi}e^{0,5x^2}$"
                ],
                "correct": "$f(x) = \\frac{1}{\\sqrt{2\\pi}}e^{-0,5x^2}$"
            },
            {
                "q": "Dystrybuanta rozkładu wykładniczego $Exp(\\lambda)$ zadana jest wzorem:",
                "answers": [
                    "$F(x) = e^{-\\lambda x}$",
                    "$F(x) = 1 - e^{-\\lambda x}$",
                    "$F(x) = 1 - e^{\\lambda x}$",
                    "$F(x) = e^{-\\lambda x} - 1$",
                    "$F(x) = 1 + e^{-\\lambda x}$"
                ],
                "correct": "$F(x) = 1 - e^{-\\lambda x}$"
            },
            {
                "q": "Rozkład dwumianowy $B(n,p)$ to rozkład zmiennej losowej opisującej:",
                "answers": [
                    "liczbę sukcesów w $n$ próbach Bernoulliego",
                    "czas oczekiwania na pierwszy sukces w nieskończonej serii prób Bernoulliego",
                    "czas oczekiwania na pierwszy sukces w $n$ próbach Bernoulliego"
                ],
                "correct": "liczbę sukcesów w $n$ próbach Bernoulliego"
            },
            {
                "q": "Jeżeli $P(A) = 0,3$, $P(B) = 0,5$ oraz zdarzenia $A$ i $B$ wykluczają się, to",
                "answers": [
                    "$P(A \\cup B) = 0,8$",
                    "$P(A \\cap B) = 0,8$",
                    "$P(A \\cup B) = 0,15$",
                    "$P(A \\cap B) = 0,15$"
                ],
                "correct": "$P(A \\cup B) = 0,8$"
            },
            {
                "q": "Wskaż poprawny wzór:",
                "answers": [
                    "$P(A \\cup B) = P(A) + P(B)$",
                    "$P(A \\cup B) = P(A) + P(B) - P(A \\cap B)$",
                    "$P(A \\cap B) = P(A) + P(B) + P(A \\cup B)$",
                    "$P(A \\cup B) = P(A) - P(B) + P(A \\cap B)$",
                    "$P(A \\cup B) = P(A) + P(B) + P(A \\cap B)$"
                ],
                "correct": "$P(A \\cup B) = P(A) + P(B) - P(A \\cap B)$"
            },
            {
                "q": "Pięciu studentów wpisuje się na listę obecności. Jakie jest prawdopodobieństwo zdarzenia, że utworzona lista jest w porządku alfabetycznym?",
                "answers": [
                    "$\\frac{1}{5}$",
                    "$\\frac{1}{3125}$",
                    "$\\frac{1}{32}$",
                    "$\\frac{1}{120}$",
                    "$\\frac{1}{25}$"
                ],
                "correct": "$\\frac{1}{120}$"
            },
            {
                "q": "Liczba wszystkich różnych k-wyrazowych wariacji z powtórzeniami zbioru n-elementowego jest równa",
                "answers": [
                    "$\\frac{n!}{(n-k)!}$",
                    "$\\binom{n}{k}$",
                    "$n^k$",
                    "$k^n$",
                    "$\\frac{n!}{k!}$",
                    "$\\binom{k}{n}$"
                ],
                "correct": "$n^k$"
            },
            {
                "q": "Jeżeli zdarzenia losowe $A$ i $B$ spełniają warunek $A \\subset B$, to",
                "answers": [
                    "$P(A) \\le P(B)$",
                    "$P(A) \\ge P(B)$",
                    "$P(A) > P(B)$",
                    "$P(A) < P(B)$",
                    "$P(A) = P(B)$"
                ],
                "correct": "$P(A) \\le P(B)$"
            },
            {
                "q": "Jeżeli $P(A) = p$, a zdarzenie $B$ jest zdarzeniem przeciwnym do $A$, to:",
                "answers": [
                    "$P(B) = \\frac{1}{p}$",
                    "$P(B) = 1 + p$",
                    "$P(B) = 1 - p$",
                    "$P(B) = p - 1$"
                ],
                "correct": "$P(B) = 1 - p$"
            },
            {
                "q": "Zdarzenie losowe oznaczane symbolem $\\emptyset$ to :",
                "answers": [
                    "zdarzenie pewne",
                    "zdarzenie przeciwne",
                    "zdarzenie zerowe",
                    "zdarzenie niemożliwe",
                    "zdarzenie nieprawdopodobne"
                ],
                "correct": "zdarzenie niemożliwe"
            },
            {
                "q": "W klasycznym modelu prawdopodobieństwa zakładamy, że",
                "answers": [
                    "przestrzeń $\\Omega$ jest skończona oraz wszystkie zdarzenia elementarne są jednakowo prawdopodobne",
                    "przestrzeń $\\Omega$ jest skończona",
                    "przestrzeń $\\Omega$ jest nieskończona oraz wszystkie zdarzenia elementarne są jednakowo prawdopodobne",
                    "wszystkie zdarzenia elementarne są jednakowo prawdopodobne",
                    "przestrzeń $\\Omega$ jest nieskończona"
                ],
                "correct": "przestrzeń $\\Omega$ jest skończona oraz wszystkie zdarzenia elementarne są jednakowo prawdopodobne"
            },
            {
                "q": "Liczba wszystkich różnych k-wyrazowych wariacji bez powtórzeń zbioru n-elementowego jest równa",
                "answers": [
                    "$\\frac{n!}{(n-k)!}$",
                    "$k^n$",
                    "$\\binom{k}{n}$",
                    "$n^k$",
                    "$\\binom{n}{k}$",
                    "$\\frac{n!}{k!}$"
                ],
                "correct": "$\\frac{n!}{(n-k)!}$"
            },
            {
                "q": "$\\binom{n}{k}$ to ilość wszystkich:",
                "answers": [
                    "permutacji zbioru n - elementowego",
                    "k - wyrazowych wariacji z powtórzeniami zbioru n - elementowego",
                    "k-elementowych kombinacji bez powtórzeń zbioru n - elementowego",
                    "k - wyrazowych wariacji bez powtórzeń zbioru n - elementowego"
                ],
                "correct": "k-elementowych kombinacji bez powtórzeń zbioru n - elementowego"
            },
            {
                "q": "Załóżmy, że $B_1, B_2, \\dots, B_n$ to rozkład przestrzeni $\\Omega$ (inaczej: układ zupełny) oraz A jest zdarzeniem losowym. Wówczas $P(A) = P(A|B_1)P(B_1) + P(A|B_2)P(B_2) + \\dots + P(A|B_n)P(B_n)$. Powyższy wzór to :",
                "answers": [
                    "wzór na prawdopodobieństwo całkowite",
                    "wzór na prawdopodobieństwo warunkowe",
                    "wzór Bayes'a",
                    "wzór Bernoullie'go",
                    "wzór de Moivre'a-Laplace'a"
                ],
                "correct": "wzór na prawdopodobieństwo całkowite"
            },
            {
                "q": "Jeżeli $p$ oznacza prawdopodobieństwo sukcesu w pojedynczej próbie Bernoulliego, a $n$ oznacza ilość wykonanych prób, oraz $(n+1)p$ jest liczbą naturalną, to najbardziej prawdopodobna liczba $N$ uzyskanych sukcesów wynosi:",
                "answers": [
                    "$N = (n+1)p - 1$",
                    "$N = (n+1)p$",
                    "$N = (n-1)p$",
                    "$N = np$",
                    "$N = (n+1)p$ lub $N = (n+1)p - 1$"
                ],
                "correct": "$N = (n+1)p$ lub $N = (n+1)p - 1$"
            },
            {
                "q": "Jeżeli zdarzenia $A$ i $B$ są niezależne oraz $P(B) > 0$, to",
                "answers": [
                    "$P(B|A) = P(A)$",
                    "$P(A|B) = P(A)$",
                    "$P(A|B) = \\frac{P(A)}{P(B)}$",
                    "$P(A|B) = P(B)$"
                ],
                "correct": "$P(A|B) = P(A)$"
            },
            {
                "q": "Rzucamy kostką do gry dziesięć razy. Prawdopodobieństwo wyrzucenia dziesięciu szóstek wynosi:",
                "answers": [
                    "$\\frac{5^{10}}{6^{10}}$",
                    "$\\frac{1}{6^{10}}$",
                    "$\\frac{1}{10^6}$",
                    "$\\frac{5^6}{10^6}$"
                ],
                "correct": "$\\frac{1}{6^{10}}$"
            },
            {
                "q": "Prawdopodobieństwo warunkowe zdarzenia $A$ pod warunkiem, że zaszło zdarzenie $B$ definiujemy wzorem:",
                "answers": [
                    "$P(A|B) = \\frac{P(A \\cup B)}{P(B)}$",
                    "$P(A|B) = P(A) P(B)$",
                    "$P(A|B) = P(A) + P(B)$",
                    "$P(A|B) = \\frac{P(A \\cap B)}{P(B)}$"
                ],
                "correct": "$P(A|B) = \\frac{P(A \\cap B)}{P(B)}$"
            },
            {
                "q": "Jeżeli $P(A) = 0,3$, $P(B) = 0,5$ oraz zdarzenia A i B są niezależne, to:",
                "answers": [
                    "$P(A \\cap B) = 0,8$",
                    "$P(A \\cap B) = 0,15$",
                    "$P(A \\cup B) = 0,15$",
                    "$P(A \\cup B) = 0,8$"
                ],
                "correct": "$P(A \\cap B) = 0,15$"
            },
            {
                "q": "Zdarzenia $A$ i $B$ są niezależne wtedy i tylko wtedy, gdy:",
                "answers": [
                    "$P(A \\cup B) = P(A) P(B)$",
                    "$P(A \\cap B) = P(A) P(B)$",
                    "$P(A \\cup B) = P(A) + P(B)$",
                    "$P(A \\cap B) = P(A) + P(B)$"
                ],
                "correct": "$P(A \\cap B) = P(A) P(B)$"
            },
            {
                "q": "Zdarzenia $A, B, C$ są niezależne wtedy i tylko wtedy, gdy:",
                "answers": [
                    "zachodzi warunek $P(A \\cup B \\cup C) = P(A) P(B) P(C)$",
                    "zdarzenia te są parami niezależne",
                    "zdarzenia te są parami niezależne oraz zachodzi warunek $P(A \\cap B \\cap C) = P(A) P(B) P(C)$",
                    "zachodzi warunek $P(A \\cap B \\cap C) = P(A) P(B) P(C)$"
                ],
                "correct": "zdarzenia te są parami niezależne oraz zachodzi warunek $P(A \\cap B \\cap C) = P(A) P(B) P(C)$"
            },
            {
                "q": "Próba Bernoulliego to:",
                "answers": [
                    "test statystyczny opracowany przez Jakoba Bernoulliego",
                    "eksperyment losowy, który kończy się jednym z dwóch wyników",
                    "eksperyment losowy, który kończy się jednym z trzech wyników",
                    "eksperyment polegający na rzucie monetą lub kostką do gry"
                ],
                "correct": "eksperyment losowy, który kończy się jednym z dwóch wyników"
            },
            {
                "q": "Prawdopodobieństwo uzyskania $k$ sukcesów w $n$ próbach Bernoulliego wyraża się wzorem",
                "answers": [
                    "$p_{k,n} = \\binom{n}{k}p^n q^{k-n}$",
                    "$p_{k,n} = \\binom{n}{k}p^k q^{n-k}$",
                    "$p_{k,n} = \\binom{n}{k}q^k p^{n-k}$",
                    "$p_{k,n} = \\binom{n}{k}p^k q^{n-k}$"
                ],
                "correct": "$p_{k,n} = \\binom{n}{k}p^k q^{n-k}$"
            },
            {
                "q": "Załóżmy, że $B_1, B_2, \\dots, B_n$ to rozkład przestrzeni $\\Omega$ (inaczej: układ zupełny) oraz A jest zdarzeniem losowym i $P(A) > 0$. Wówczas dla dowolnego $k \\in \\{1, 2, \\dots, n\\}$ zachodzi wzór $P(B_k|A) = \\frac{P(A|B_k) P(B_k)}{P(A)}$. Powyższy wzór to :",
                "answers": [
                    "wzór Bernoulliego",
                    "wzór na prawdopodobieństwo warunkowe",
                    "wzór na prawdopodobieństwo całkowite",
                    "wzór Bayes'a"
                ],
                "correct": "wzór Bayes'a"
            },
            {
                "q": "Z populacji wylosowano próbę pięcioelementową: {1, 2, 5, 10, 12}. Mediana dla próby wynosi:",
                "answers": [
                    "5",
                    "2",
                    "8",
                    "10",
                    "6"
                ],
                "correct": "5"
            },
            {
                "q": "Z populacji wylosowano próbę pięcioelementową: {1, 2, 5, 10, 12}. Średnia z próby wynosi:",
                "answers": [
                    "5",
                    "6",
                    "8",
                    "12",
                    "10"
                ],
                "correct": "6"
            },
            {
                "q": "Załóżmy, że $X_1, X_2, \\dots, X_k$ to niezależne zmienne losowe o tym samym rozkładzie normalnym standardowym $N(0, 1)$ oraz $Z = X_1^2 + X_2^2 + \\dots + X_k^2$. Zmienna losowa $Z$ ma rozkład:",
                "answers": [
                    "t-Studenta z $k$ stopniami swobody",
                    "normalny $N(0, \\sqrt{k})$",
                    "normalny $N(0, k^2)$",
                    "normalny $N(0, k)$",
                    "chi-kwadrat z $k$ stopniami swobody"
                ],
                "correct": "chi-kwadrat z $k$ stopniami swobody"
            },
            {
                "q": "Estymator wartości oczekiwanej $\\bar{x} = \\frac{x_1 + x_2 + \\dots + x_n}{n}$ jest:",
                "answers": [
                    "efektywny",
                    "zgodny, efektywny i nieobciążony",
                    "nieobciążony",
                    "zgodny",
                    "zgodny i nieobciążony"
                ],
                "correct": "zgodny, efektywny i nieobciążony"
            },
            {
                "q": "Która z poniższych miar jest miarą rozproszenia?",
                "answers": [
                    "średnia z próby",
                    "wariancja z próby",
                    "dominanta",
                    "mediana",
                    "trzeci kwartyl"
                ],
                "correct": "wariancja z próby"
            }
        ]

        const totalQuestions = questions.length;

        console.log(`Ilość pytań: ${totalQuestions}`);
        function shuffle(a) {
            for (let i = a.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [a[i], a[j]] = [a[j], a[i]];
            }
            return a;
        }

        let shuffled, idx, userAns;

        function startQuiz() {
            shuffled = shuffle(
                questions.map(q => ({
                    q: q.q,
                    answers: shuffle(q.answers.slice()),
                    correct: q.correct
                }))
            ).slice(0, 20);

            idx = 0;
            userAns = [];
            document.getElementById("results").innerHTML = "";
            document.getElementById("restart-btn").style.display = "none";
            document.getElementById("next-btn").style.display = "inline-block";
            showQuestion();
        }

        function showQuestion() {
            const quiz = document.getElementById("quiz");
            quiz.innerHTML = "";
            const it = shuffled[idx];

            const div = document.createElement("div");
            div.className = "question";

            const p = document.createElement("p");
            p.innerHTML = `Pytanie ${idx + 1}: ${it.q}`;
            div.appendChild(p);

            const ansDiv = document.createElement("div");
            ansDiv.className = "answers";

            it.answers.forEach(ans => {
                const lbl = document.createElement("label");
                const inp = document.createElement("input");
                const sp = document.createElement("span");
                inp.type = "radio";
                inp.name = "answer";
                inp.value = ans;
                sp.textContent = ans;
                lbl.append(inp, sp);
                ansDiv.appendChild(lbl);
                inp.addEventListener("change", () => {
                    document.getElementById("next-btn").disabled = false;
                });
            });

            div.appendChild(ansDiv);
            quiz.appendChild(div);

            // render LaTeX
            if (window.MathJax) MathJax.typeset();

            const btn = document.getElementById("next-btn");
            btn.disabled = true;
            btn.textContent = idx < shuffled.length - 1 ? "Dalej" : "Zakończ";
            btn.onclick = () => {
                const sel = document.querySelector("input[name=answer]:checked");
                userAns[idx] = sel ? sel.value : null;
                idx++;
                if (idx < shuffled.length) showQuestion();
                else showResults();
            };
        }

        function showResults() {
            document.getElementById("quiz").innerHTML = "";
            document.getElementById("next-btn").style.display = "none";
            const res = document.getElementById("results");

            const score = userAns.filter((a, i) => a === shuffled[i].correct).length;
            const s = document.createElement("div");
            s.id = "score";
            s.textContent = `Zdobyte punkty: ${score} / ${shuffled.length}`;
            res.appendChild(s);

            shuffled.forEach((it, i) => {
                const ok = userAns[i] === it.correct;
                const wrap = document.createElement("div");
                wrap.className = `result-item ${ok ? "correct" : "wrong"}`;

                const p = document.createElement("p");
                p.innerHTML = `Pytanie ${i + 1}: ${it.q}`;
                wrap.appendChild(p);

                const det = document.createElement("div");
                det.className = "detail";
                const ul = document.createElement("ul");
                it.answers.forEach(ans => {
                    const li = document.createElement("li");
                    li.textContent = ans;
                    if (ans === it.correct) li.classList.add("correct-answer");
                    else if (ans === userAns[i] && !ok) li.classList.add("user-answer");
                    ul.appendChild(li);
                });
                det.appendChild(ul);
                wrap.appendChild(det);

                p.addEventListener("click", () => {
                    det.style.display = det.style.display === "block" ? "none" : "block";
                    if (window.MathJax) MathJax.typeset();
                });

                res.appendChild(wrap);
            });

            if (window.MathJax) MathJax.typeset();
            document.getElementById("restart-btn").style.display = "inline-block";
        }

        document.getElementById("restart-btn").addEventListener("click", startQuiz);
        document.getElementById("theme-toggle").addEventListener("click", () => {
            document.body.classList.toggle("light");
            document.getElementById("theme-toggle").textContent =
                document.body.classList.contains("light") ? "Ciemny motyw" : "Jasny motyw";
        });

        window.addEventListener("DOMContentLoaded", startQuiz);
    </script>
</body>

</html>